# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—à–∏–≤–∫–∏ **Guition ESP32-S3-4848S040**: —á–µ—Ä–µ–∑ **VSCode —Å ESPHome** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —á–µ—Ä–µ–∑ **ESPHome Builder** –≤ Home Assistant –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### ESPHome Builder –≤ Home Assistant (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –µ—Å–ª–∏:**
- –ù—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–±–æ—á–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ù–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### VSCode (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –µ—Å–ª–∏:**
- –í—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
- –ù—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –•–æ—Ç–∏—Ç–µ –ø–æ–Ω–∏–º–∞—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ—à–∏–≤–∫–∞
- –ï—Å—Ç—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å IDE

---

## –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Home Assistant:

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å –æ–ø—Ü–∏—é ¬´–†–∞–∑—Ä–µ—à–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è Home Assistant¬ª –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ESPHome —Å Home Assistant.

–ê —Ç–∞–∫–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç](https://github.com/alaltitov/homeassistant-display-tools) –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏ –æ–±–ª–æ–∂–µ–∫ –¥–ª—è –º–µ–¥–∏–∞–ø–ª–µ–µ—Ä–∞.

## –ú–µ—Ç–æ–¥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ ESPHome Builder:

::: note –ü–†–ò–ú–ï–ß–ê–ù–ò–ï
–í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏ —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–æ —ç—Ç–æ –Ω–µ —Å–æ–≤—Å–µ–º —Ç–∞–∫, —Ç–∞–∫ –∫–∞–∫ ESPHome Builder –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –ø–∞–ø–∫–∏ esphome, —Ç–æ –µ—Å—Ç—å —á–µ—Ä–µ–∑ –Ω–µ–≥–æ –í—ã —Å–º–æ–∂–µ—Ç–µ –ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª main.yaml. –ê –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å demo —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –í–∞—à–∏, –ø—Ä–∏–¥–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä File Editor 
:::

1. –°–∫–∞—á–∞–π—Ç–µ ZIP —Ñ–∞–π–ª –∏–∑ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://github.com/alaltitov/Guition-ESP32-S3-4848S040)
2. –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ) –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `src` —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫–∞–∫ –µ—Å—Ç—å –≤ –∫–æ—Ä–µ–Ω—å –ø–∞–ø–∫–∏ `esphome` –≤ Home Assistant (homeassistant/esphome)
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `secrets.yaml` (—á–µ—Ä–µ–∑ ESPHome Builder, —Å–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞). –í–Ω–µ—Å–∏—Ç–µ –≤ –Ω–µ–≥–æ –¥–∞–Ω–Ω—ã–µ:

```yaml
wifi_ssid: "–í–∞—à–∞ Wi-Fi —Å–µ—Ç—å"
wifi_password: "–í–∞—à –ø–∞—Ä–æ–ª—å –∫ Wi-Fi —Å–µ—Ç–∏"

display_key: "–í–∞—à —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è API –¥–æ—Å—Ç—É–ø–∞ –∫ home assistant"
display_ota: "–í–∞—à —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è OTA –ø—Ä–æ—à–∏–≤–∫–∏"

```
4. –í–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö –≤ –ø–∞–ø–∫–µ `widgets` –≤ `substitutions` –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ `entity` –Ω–∞–¥–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```yaml
substitutions:

  weather_entity: "weather.home_assistant"
  temperature_entity: "sensor.outside_temperature"
  humidity_entity: "sensor.outside_humidity"
  co2_entity: "sensor.carbon_dioxide"
```
::: warning –í–ù–ò–ú–ê–ù–ò–ï!
–û—á–µ–Ω—å –≤–∞–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ demo —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –í–∞—à–∏, –∏–Ω–∞—á–µ –ø—Ä–æ—à–∏–≤–∫–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç! –ü–æ–¥—Ä–æ–±–Ω–µ–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ –í–∏–¥–∂–µ—Ç—ã.
:::

5. –ß–µ—Ä–µ–∑ ESPHome Builder –Ω–∞—Ö–æ–¥–∏–º `main.yaml` (Display) –∏ –Ω–∞–∂–∏–º–∞–µ–º `install`

## –ú–µ—Ç–æ–¥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ VSCode:

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ VSCode
1. –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Visual Studio Code](https://code.visualstudio.com/)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ VSCode

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ESPHome
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (`Ctrl+Shift+X`)
2. –ù–∞–π–¥–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **"ESPHome"** –æ—Ç ESPHome
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VSCode

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ ESPHome CLI
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# Windows: —Å–∫–∞—á–∞–π—Ç–µ —Å python.org
# macOS: brew install python3
# Ubuntu/Debian: sudo apt install python3 python3-pip

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ESPHome
pip3 install esphome

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
esphome version
```

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/alaltitov/Guition-ESP32-S3-4848S040.git

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd Guition-ESP32-S3-4848S040

# –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ VSCode
code .
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `secrets.yaml` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```yaml
wifi_ssid: "–í–∞—à–∞ Wi-Fi —Å–µ—Ç—å"
wifi_password: "–í–∞—à –ø–∞—Ä–æ–ª—å –∫ Wi-Fi —Å–µ—Ç–∏"

display_key: "–í–∞—à —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è API –¥–æ—Å—Ç—É–ø–∞ –∫ home assistant"
display_ota: "–í–∞—à —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è OTA –ø—Ä–æ—à–∏–≤–∫–∏"

```

–í–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö –≤ –ø–∞–ø–∫–µ `widgets` –≤ `substitutions` –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ `entity` –Ω–∞–¥–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```yaml
substitutions:

  weather_entity: "weather.home_assistant"
  temperature_entity: "sensor.outside_temperature"
  humidity_entity: "sensor.outside_humidity"
  co2_entity: "sensor.carbon_dioxide"
```
::: warning –í–ù–ò–ú–ê–ù–ò–ï!
–û—á–µ–Ω—å –≤–∞–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ demo —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –í–∞—à–∏, –∏–Ω–∞—á–µ –ø—Ä–æ—à–∏–≤–∫–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç! –ü–æ–¥—Ä–æ–±–Ω–µ–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ –í–∏–¥–∂–µ—Ç—ã.
:::

### –®–∞–≥ 4: –ü—Ä–æ—à–∏–≤–∫–∞ –ø–æ OTA –∏–ª–∏ UART

#### OTA
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É —Å —Ñ–∞–π–ª–æ–º `main.yaml`. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `üöÄOTA`

#### UART
–í –º–µ–Ω—é VSCode –≤—ã–±–µ—Ä–∏—Ç–µ `–¢–µ—Ä–º–∏–Ω–∞–ª` –¥–∞–ª–µ–µ `–°–æ–∑–¥–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª`. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤–±–µ–π—Ç–µ –∫–æ–º–∞–Ω–¥—É
```bash
# –≥–¥–µ /dev/cu.wchusbserial140 - –ø–æ—Ä—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π)
esphome run main.yaml --device /dev/cu.wchusbserial140
```

